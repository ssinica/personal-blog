<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta content="width=device-width, initial-scale=1.0" name="viewport"><title>Blog | Sergey Sinica</title><link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css"><link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"><link rel="stylesheet" href="http://yandex.st/highlightjs/7.5/styles/default.min.css"><link href="/assets/main.css" rel="stylesheet"><link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'></head><body><div class="syn-about-panel"><div class="syn-author-img-w"><a href="/" class="syn-author-img"><img src="https://pbs.twimg.com/profile_images/3762256738/195f3ac721125b7d63e4bfeea53be9d2.jpeg"></img></a></div><div class="syn-author-info"><h3>Hi and welcome to my blog!</h3></div><div class="syn-social"><a href="https://twitter.com/ssinica" target="_blank"><i class="fa fa-twitter-square"></i></a><a href="https://github.com/ssinica" target="_blank"><i class="fa fa-github-square"></i></a><a href="https://plus.google.com/+SergeySinica" target="_blank"><i class="fa fa-google-plus-square"></i></a></div><div class="syn-about-me"><a href="https://twitter.com/ssinica" class="twitter-follow-button" data-show-count="true" data-lang="en">Follow @ssinica</a></div><div class="syn-tags-container"><a href="tag_devops.html" class="label syn-label-default">devops <span class="badge">4</span></a><a href="tag_docker.html" class="label syn-label-default">docker <span class="badge">3</span></a><a href="tag_dev.html" class="label syn-label-default">dev <span class="badge">3</span></a><a href="tag_Raspberry_PI.html" class="label syn-label-default">Raspberry PI <span class="badge">2</span></a><a href="tag_aws.html" class="label syn-label-default">aws <span class="badge">2</span></a><a href="tag_AngularJS.html" class="label syn-label-default">AngularJS <span class="badge">1</span></a><a href="tag_howto.html" class="label syn-label-default">howto <span class="badge">1</span></a><a href="tag_RequireJS.html" class="label syn-label-default">RequireJS <span class="badge">1</span></a><a href="tag_CUPS.html" class="label syn-label-default">CUPS <span class="badge">1</span></a><a href="tag_git.html" class="label syn-label-default">git <span class="badge">1</span></a><a href="tag_Docker.html" class="label syn-label-default">Docker <span class="badge">1</span></a><a href="tag_inline_skating.html" class="label syn-label-default">inline skating <span class="badge">1</span></a><a href="tag_terraform.html" class="label syn-label-default">terraform <span class="badge">1</span></a><a href="tag_misc.html" class="label syn-label-default">misc <span class="badge">1</span></a></div></div><div class="syn-main-panel"><div class="syn-blog-item"><h1><a href="/noip_free_dns_with_docker.html">Free dynamic DNS from noip.com with Docker</a> <small class="syn-blog-item-date">02-01-2016</small></h1><div class="syn-post"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This is instructions how to setup <a href="http://www.noip.com">dynamic DNS</a> on Ubuntu 14.04 using <a href="https://docker.com">Docker</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Register with <a href="http://www.noip.com">http://www.noip.com</a></p>
</li>
<li>
<p>Create new host (<code>hostname.ddns.net</code>) at <a href="http://www.noip.com/members/dns/">http://www.noip.com/members/dns/</a></p>
</li>
<li>
<p><a href="https://docs.docker.com/engine/installation/ubuntulinux/">Install</a> Docker</p>
<div class="listingblock">
<div class="content">
<pre>sudo apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D
sudo echo "deb https://apt.dockerproject.org/repo ubuntu-trusty main" &gt; /etc/apt/sources.list.d/docker.list
sudo apt-get update
sudo apt-get install linux-image-extra-$(uname -r)
sudo apt-get install docker-engine</pre>
</div>
</div>
</li>
<li>
<p>Create directory which will contain configuration file for Docker container</p>
<div class="listingblock">
<div class="content">
<pre>sudo mkdir /config</pre>
</div>
</div>
</li>
<li>
<p>Start Docker container from <a href="https://github.com/coppit/docker-no-ip">image</a></p>
<div class="listingblock">
<div class="content">
<pre>sudo docker run --name=noip -d -v /etc/localtime:/etc/localtime -v /config:/config coppit/no-ip</pre>
</div>
</div>
</li>
<li>
<p>Edit file <code>/config/noip.conf</code></p>
</li>
<li>
<p>Start container one more time</p>
<div class="listingblock">
<div class="content">
<pre>sudo docker start noip</pre>
</div>
</div>
</li>
<li>
<p>Check if it is working</p>
<div class="listingblock">
<div class="content">
<pre>sudo docker logs noip</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_Docker.html" class="label syn-label-default">Docker</a><a href="tag_howto.html" class="label syn-label-default">howto</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/noip_free_dns_with_docker" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/noip_free_dns_with_docker" data-action="share"></div></div></div><div class="syn-blog-item-delim"><span>2 days</span></div><div class="syn-blog-item"><h1><a href="/angularjs_requirejs_for_java_developers.html">AngularJS and RequireJS for Java developers</a> <small class="syn-blog-item-date">31-12-2015</small></h1><div class="syn-post"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this post I will show how to use <a href="https://code.angularjs.org/1.4.8/docs/guide">AngularJS (1.4.8)</a> with <a href="http://requirejs.org/docs/api.html">RequireJS (2.1.22)</a> and how to integrate them into typical <a href="http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/">SpringBoot (1.3.1)</a> application development and build processes.</p>
</div>
<div class="paragraph">
<p>Before we will dive into code a little disclaimer. I&#8217;m not a full time client side programmer. Mostly I do a server side development in Java. I heard about <a href="https://www.npmjs.com/">NPM</a>, <a href="http://gruntjs.com/">Grunt</a> and <a href="http://bower.io/">Bower</a> but didn&#8217;t use them. I have Java and Maven and I want to use these tools for my client side work. If you are hardcore JS guy then this post isn&#8217;t for you.</p>
</div>
<div class="paragraph">
<p>I encourage you to check out <a href="https://github.com/ssinica/angularjs-requirejs-example">GitHub project</a> I created as example for this blog post.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/angularjs_requirejs/project.jpg" alt="Project structure">
</div>
</div>
<div class="paragraph">
<p>As you can see this is typical Maven project with SpringBoot application. You can run the application with command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>make run</pre>
</div>
</div>
<div class="paragraph">
<p>This will build an application and will run it on port <code>8888</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/angularjs_requirejs/app_dev_mode.jpg" alt="App in dev mode">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dependencies">Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first problem you will notice after starting to work with AngularJS - you have a lot of JS files. You place your modules in separate directories and controllers, directives, services, etc. in separate files. And this is a problem for production. You need somehow concatenate all these files.</p>
</div>
<div class="paragraph">
<p>Angular provides dependency management on instances level. Controller can declare a dependency to a service, and Angular will inject an instance of the service to your controller during creation. But Angular does nothing with files dependencies. Angular do not know and do not care in which file your service is located. He just assumes that service should be already loaded in JS context. If not - it will fail.</p>
</div>
<div class="paragraph">
<p>In simplest case you can just concatenate all JS files and you probably will be fine. But in more complicated applications (multi page applications) you will have a dozen of modules, which depends on each other, and you will want to load only modules you need.</p>
</div>
<div class="paragraph">
<p>Also you will want to control the order in which resources are loaded. If application <code>A</code> depends on module <code>M</code>, then before bootstrapping application <code>A</code> you will want to be sure that file with module <code>M</code> is loaded.</p>
</div>
<div class="paragraph">
<p>This can be solved with RequireJS - a JavaScript module and file loader. RequireJS operates with <a href="http://requirejs.org/docs/api.html#define">modules</a> (these modules are not the same modules in Angular). To create a RequireJS module you need to wrap your JS into <code>define()</code> function.</p>
</div>
<div class="paragraph">
<p>RequireJS maps modules to files. So if your add a dependency to another module, RequireJS knows in which file to find this module. And if you have a complex modules dependency tree, then RequireJS can understand which files and in which order to load to satisfy all dependencies and bootstrap an application in most efficient way.</p>
</div>
<div class="paragraph">
<p>So, to use RequireJS we need to convert our Angular staff into RequireJS modules.</p>
</div>
<div class="paragraph">
<p>For example, see <a href="https://github.com/ssinica/angularjs-requirejs-example/blob/master/src%2Fmain%2Fresources%2Fstatic%2Fjs%2Fcommon%2Fcommon-services.js">common-services.js</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre>define([
    'angular',
    'common/common-module'
], function(angular) {

    angular.module('common')
    .factory('commonService', [function() {
        return {
            sayHello: function(name) {
                return "Hello, " + name + "!";
            }
        }
    }]);

});</pre>
</div>
</div>
<div class="paragraph">
<p>Here we define an Angular service <code>commonService</code> in <code>common</code> module and wrap it with <code>define()</code> function.</p>
</div>
<div class="paragraph">
<p>By default RequireJS module ID maps one to one to file. In example above, <code>common-services</code> module depends on <code>common/common-module</code>. And this means that RequireJS will load this dependency from file <code>common-module.js</code> inside <code>common</code> directory.</p>
</div>
<div class="paragraph">
<p>But it is also possible to define RequireJS modules in special configuration file. See <a href="https://github.com/ssinica/angularjs-requirejs-example/blob/master/src%2Fmain%2Fresources%2Fstatic%2Fjs%2Fconfig.js">config.js</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>requirejs.config({
    baseUrl: 'js',
    paths: {

        // 3rd party
        angular: 'lib/angular',

        // vendor
        vendor: 'lib/vendor',

        // common app
        commonApp: 'common/common-app',

        // example app
        exampleApp: 'example/example-app'

    },
    // Angular is not distributed as AMD module, so we need to wrap it with define().
    // See http://requirejs.org/docs/api.html#config-shim for more details.
    shim: {
        'angular': {
            exports: 'angular'
        }
    }
});</pre>
</div>
</div>
<div class="paragraph">
<p>As you can see module <code>angular</code> is mapped to file <code>lib/angular.js</code>. Now in <code>common-services</code> module we can specify a dependency to angular module by simply using module ID - <code>angular</code>.</p>
</div>
<div class="paragraph">
<p>RequireJS quickly gets tricky to configure. You have different possibilities to declare modules, you have <a href="http://requirejs.org/docs/api.html#config-shim">shim</a> for non <a href="http://requirejs.org/docs/whyamd.html">AMD</a> third party JS pieces, you have <a href="http://requirejs.org/docs/api.html#config-bundles">bundles</a> which allow you to group modules into one file, etc&#8230;. And it may be difficult to get it all together.</p>
</div>
<div class="paragraph">
<p>After many experiments I found the following solution to handle this configuration complexity:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In <code>config.js</code> we define only top level modules - I called them applications.</p>
</li>
<li>
<p>For inner module dependencies we use default file based module ids. So during optimization we can move all inner modules to one <code>application</code> file. For example: all pieces located in directory <code>common</code> can be grouped and placed into one file <code>common/common-app</code>.</p>
</li>
<li>
<p><code>Applications</code> can set dependencies to each other only using module ids defined in <code>common.js</code>. To define dependency to common inside <code>exampleApp</code> we should use <code>commonApp</code> module id. And we can&#8217;t directly add dependency to, for example, <code>common/common-services</code> module. See <a href="https://github.com/ssinica/angularjs-requirejs-example/blob/master/src%2Fmain%2Fresources%2Fstatic%2Fjs%2Fexample%2Fexample-module.js">example-module.js</a>:</p>
<div class="listingblock">
<div class="content">
<pre>define([
    'angular',
    'commonApp'
], function(angular) {

    angular.module('example', ['common']);

});</pre>
</div>
</div>
<div class="paragraph">
<p>Now, in <a href="https://github.com/ssinica/angularjs-requirejs-example/blob/master/src%2Fmain%2Fresources%2Fstatic%2Fjs%2Fexample%2Fexample-controller.js">common-controller</a> we can use <code>commonService</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>define([
    'angular',
    'example/example-module'
], function(angular) {

    angular.module('example')
    .controller('exampleController', ['$scope', 'commonService', function($scope, commonService) {

        $scope.greeting = commonService.sayHello("Sergey");

    }]);

});</pre>
</div>
</div>
</li>
<li>
<p>Third party dependencies are defined as <code>vendor</code> module and in PROD environment are grouped into <code>vendor</code> bundle (we will see it later).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Using these rules it is fairly easy to manage dependencies inside Angular application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bootstrapping_angular_application">Bootstrapping Angular application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now the only missing part is - how to bootstrap an Angular application. See <a href="https://github.com/ssinica/angularjs-requirejs-example/blob/master/src%2Fmain%2Fresources%2Fstatic%2Findex.html">index.html</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> jQuery.ajax({
	 url: "/js/lib/requirejs-2.1.22.js",
	 type: "GET",
	 dataType: "script",
	 cache: true,
	 async: false,
	 global: false,
	 "throws": true,
	 success: function () {
		 require(["/js/config.js"], function () {
			 require(["exampleApp"]);
		 });
	 }
 });</pre>
</div>
</div>
<div class="paragraph">
<p>Here I used <code>jQuery</code> to fetch <code>requirejs</code> JS file. After <code>requirejs</code> is downloaded it handles the load of other parts of application. As you can see, RequireJS loads <code>config.js</code> file and after that <code>exampleApp</code> module. And inside <a href="https://github.com/ssinica/angularjs-requirejs-example/blob/master/src%2Fmain%2Fresources%2Fstatic%2Fjs%2Fexample%2Fexample-app.js">example-app.js</a> happens Angular application bootstrapping:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>angular.bootstrap(document.getElementById('example-app'), ['example'], {
	strictDi: true
});</pre>
</div>
</div>
<div class="paragraph">
<p>Note, that you can load <code>requirejs</code> using ordinal <code>&lt;script&gt;</code> tag (see <a href="http://requirejs.org/docs/api.html#jsfiles">RequireJS documentation</a> for details). And add <code>JQuery</code> to <code>vendor</code> bundle as separate module. I cheated a little bit to keep it simple.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_optimization">Optimization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Next thing is optimization of resources. We want to concatenate everything related to each Angular module into one <code>application</code> file. Plus do minification. RequireJS <a href="http://requirejs.org/docs/optimization.html">can help</a> with that too.</p>
</div>
<div class="paragraph">
<p>To perform optimization you need to use <a href="https://github.com/ssinica/angularjs-requirejs-example/blob/master/requirejs%2Fr-2.1.22.js">separate JS library</a> downloadable from <a href="http://requirejs.org/docs/optimization.html#download">RequireJS site</a>.</p>
</div>
<div class="paragraph">
<p>There are different ways to run optimization, but we, as true Java devs, will use <a href="http://openjdk.java.net/projects/nashorn/">Nashorn JavaScript runtime</a> which is available in standard JDK 8 distribution. Check out <a href="https://github.com/ssinica/angularjs-requirejs-example/blob/master/pom.xml">pom.xml</a> for plugin, which will do that:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;plugin&gt;
	&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
	&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;
	&lt;version&gt;1.4.0&lt;/version&gt;
	&lt;executions&gt;
		&lt;execution&gt;
			&lt;phase&gt;compile&lt;/phase&gt;
			&lt;goals&gt;
				&lt;goal&gt;exec&lt;/goal&gt;
			&lt;/goals&gt;
		&lt;/execution&gt;
	&lt;/executions&gt;
	&lt;configuration&gt;
		&lt;executable&gt;${java.home}/bin/${jjs}&lt;/executable&gt;
		&lt;commandlineArgs&gt;-scripting ${project.basedir}/requirejs/r-2.1.22.js -- -o ${project.basedir}/requirejs/build.js&lt;/commandlineArgs&gt;
	&lt;/configuration&gt;
&lt;/plugin&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The optimization process is controlled by special <a href="https://github.com/ssinica/angularjs-requirejs-example/blob/master/requirejs%2Fbuild.js">build.js</a> file. See RequireJS <a href="http://requirejs.org/docs/optimization.html#options">documentation</a> for full list of available options in <code>build.js</code>.</p>
</div>
<div class="paragraph">
<p>In <code>build.js</code> we specify which modules to concatenate and minify. In our example as result of build process we should have 3 output files containing <code>vendor</code>, <code>commonApp</code> and <code>exampleApp</code> modules.</p>
</div>
<div class="paragraph">
<p>As you remember, to define inner module dependencies we used default file based module ids. How this will work if we move all parts to one <code>application</code> file? This will work, because at the time when RequireJS will try to find modules like <code>common/common-service</code>, these modules already will be loaded into JS context and RequireJS will not try to load them from files.</p>
</div>
<div class="paragraph">
<p>To perform optimized build fire following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>make build_optimized</pre>
</div>
</div>
<div class="paragraph">
<p>In Maven&#8217;s output you will see something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[INFO] --- exec-maven-plugin:1.4.0:exec (default) @ angularjs-requirejs-example ---

Tracing dependencies for: vendor

Tracing dependencies for: commonApp

Tracing dependencies for: exampleApp

lib/vendor.js
----------------
lib/angular.js
lib/vendor.js

common/common-app.js
----------------
common/common-module.js
common/common-services.js
common/common-app.js

example/example-app.js
----------------
example/example-module.js
example/example-controller.js
example/example-app.js</pre>
</div>
</div>
<div class="paragraph">
<p>RequireJS traced down all dependencies for our modules and grouped them.</p>
</div>
<div class="paragraph">
<p>Now if you run optimized application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>make run_optimized</pre>
</div>
</div>
<div class="paragraph">
<p>, you will see that we serve optimized and concatanated resources.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/angularjs_requirejs/app_prod_mode.jpg" alt="App in prod mode">
</div>
</div>
<div class="paragraph">
<p>One important note here. For optimized build we replaced <code>config.js</code> from <code>src/main/resources</code> with slightly modified version from <a href="https://github.com/ssinica/angularjs-requirejs-example/blob/master/requirejs%2Fconfig.js">requirejs/config.js</a>.</p>
</div>
<div class="paragraph">
<p>In this file instead of <code>shim</code> we define a <code>bundle</code> and use <code>urlArgs</code> option to control versions of resources and force resource reload in browser after each build.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusions">Conclusions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>RequireJS and AngularJS plays nicely together. Although configuration can be difficult.</p>
</li>
<li>
<p>RequireJS optimizations run by Nashorn are slow and increase build time a lot.</p>
</li>
<li>
<p>It is possible to make further optimizations by grouping RequireJS modules used on one page into bundles. But, probably, for most projects optimization level we achieved in this post will be good enough.</p>
</li>
<li>
<p>We still have a problem with views optimization. I didn&#8217;t touched this problem in this post, but in short - if you use views intensivelly and don&#8217;t do any optimizations, then each view will be separate HTTP request.</p>
</li>
<li>
<p>It would be nice to see file level dependencies built in Anglular.</p>
</li>
</ul>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_AngularJS.html" class="label syn-label-default">AngularJS</a><a href="tag_RequireJS.html" class="label syn-label-default">RequireJS</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/angularjs_requirejs_for_java_developers" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/angularjs_requirejs_for_java_developers" data-action="share"></div></div></div><div class="syn-blog-item-delim"><span>15 days</span></div><div class="syn-blog-item"><h1><a href="/inline-skating-2015.html">Inline skating</a> <small class="syn-blog-item-date">16-12-2015</small></h1><div class="syn-post"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In 2015 I got a new hobby - inline skating.</p>
</div>
<div class="paragraph">
<p>The decision to try inline skating was fairly spontaneous and mainly driven by my wife. The beautiful idea was - we will skate together in sunset holding hands.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/skating/first.png" alt="First time skating">
</div>
</div>
<div class="paragraph">
<p>Well, month or two later my wife gave up and decided what it is too dangerous and tricky. Yes, we tried to skate together and even hold hands few times, but very soon our expectations and goals became too different. My wife was OK to skate really slowly and only on ideal surface and in ideal environment. On the other hand, I wanted to go faster, try new things and study some tricks. So I started to skate alone and my wife joined me very rarely.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/skating/route.png" alt="Usual route">
</div>
</div>
<div class="paragraph">
<p>It was hard from beginning. For a month we practiced in a big and free from cars parking area. After we learned some basics we moved to special trail outside the town. Most of the summer I spent on this 3 km long path with ideal asphalt.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/skating/path.png" alt="3 km of ideal asphalt">
</div>
</div>
<div class="paragraph">
<p>Here is some statistics:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/skating/stats.png" alt="Skating statistics for 2005">
</div>
</div>
<div class="paragraph">
<p>In May I started to skate on trail. 4 months I trained for speed. From 9 km/h to 17 km/h. In the middle of that period I replaced my very basic wheels and bearings to more advanced. This gave me faster speed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/skating/wheels.png" alt="Wheels">
</div>
</div>
<div class="paragraph">
<p>Of course, my technique also progressed. I felt pretty confident and because inline skating is not very popular in my town I was the fastest guy on the trace. Well, not always. Sometimes I was smashed by guys who clearly had more experience in inline skating and better equipment. But I was close.</p>
</div>
<div class="paragraph">
<p>In November and December there is a noticeable speed drop. This is because I started to skate on the streets.</p>
</div>
<div class="paragraph">
<p>It was scary and very challenging. All these obstacles, rough surfaces, pedestrians, cars&#8230;.</p>
</div>
<div class="paragraph">
<p>You will be laughing, but during all the summer I was skating without any real stopping technique. I kinda was able to stop very slowly, but this was not enough for streets. So before going to city I studied T-stop.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/skating/t-stop.png" alt="T-Stop">
</div>
</div>
<div class="paragraph">
<p>This is very basic and most used stopping technique. It is basic, but not simple. Before you will be able to do T-stop you should master to balance on one leg. Basically you should be able to roll on one leg for few seconds.</p>
</div>
<div class="paragraph">
<p>In October, finally, I learned how to do T-stop and in November I started to skate near my house. My current usual route consist of bicycle roads and sidewalks. There are pedestrians, road crossings, different surfaces - asphalt, very bad asphalt and different kinds of tiles.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/skating/december.png" alt="Skating in mid December">
</div>
</div>
<div class="paragraph">
<p>So, that I accomplished in 2015:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Confident forward skating</p>
</li>
<li>
<p>17 km/h average speed</p>
</li>
<li>
<p>T-stop</p>
</li>
<li>
<p>Crossovers</p>
</li>
<li>
<p>Not scared of rough surfaces</p>
</li>
<li>
<p>Stepping on and stepping off (for example stepping on sidewalk from the road)</p>
</li>
<li>
<p>One line (mostly right leg is forward)</p>
</li>
<li>
<p>Basic turns</p>
</li>
<li>
<p>Basic balancing on one leg (right leg much better than left)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The plan for 2016 is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Confident on streets</p>
</li>
<li>
<p>Confident one leg balancing</p>
</li>
<li>
<p>&gt; 20 km/h average speed on trace</p>
</li>
<li>
<p>Jumps</p>
</li>
<li>
<p>Power-slide</p>
</li>
<li>
<p>Basic back forward</p>
</li>
<li>
<p>Basic low speed tricks (spinning, turning, changing direction, etc&#8230;)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All this year I was watching few youtube channels about inline skating and skating in streets. Most inspiring and interesting channels are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.youtube.com/user/PintoPonyProductions">PintoPonyProductions</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/user/jamesbond6687">James Mackey City Skater</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/channel/UCQ4yp5H0_Ug9W7vhlLd3dJQ">DomsBlading</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I think I will try to film something similar next year. It should be fun. So, stay tuned!</p>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_inline_skating.html" class="label syn-label-default">inline skating</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/inline-skating-2015" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/inline-skating-2015" data-action="share"></div></div></div><div class="syn-blog-item-delim"><span>53 days</span></div><div class="syn-blog-item"><h1><a href="/aws_multi_account_with_terraform.html">AWS multi account setup with Terraform</a> <small class="syn-blog-item-date">24-10-2015</small></h1><div class="syn-post"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>We are going to create an environment with 2 separate AWS accounts.</p>
</div>
<div class="paragraph">
<p>First account will be the main one, the gateway to other accounts. This account will contain all our IAM users and roles.</p>
</div>
<div class="paragraph">
<p>Second account will be the actual workhorse with instances, VPC, etc..</p>
</div>
<div class="paragraph">
<p>See an official <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/walkthru_cross-account-with-roles.html">guide</a> in AWS documentation with similar setup.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why">Why?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This post is greatly inspired by <a href="https://segment.com/blog/rebuilding-our-infrastructure">excellent blog</a> from Segment, about how they rethought and rebuild their AWS infrastructure and why. I advise you to read their blog before continue, but in short&#8230;.</p>
</div>
<div class="paragraph">
<p>By using several AWS accounts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can separate and group your resources in natural and simple way;</p>
</li>
<li>
<p>You can truly isolate different projects or environments, but still have possibility to manage access rights in one central location;</p>
</li>
<li>
<p>By setting up consolidated billing you can review and manage costs across projects and environments in clear way;</p>
</li>
<li>
<p>If one of your projects will be bought by Google, then it will be trivial to change ownership of project and pass it to new owner;</p>
</li>
<li>
<p>And a small but pleasant bonus: each new account you will create is eligible for free usage tier. 5 accounts &#8658; 5 free t2.micro instances for a year. Nice!</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_before_you_start">Before you start</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You should have 2 AWS accounts. Let&#8217;s name first - "main", and second - "dev". In each account create a user with administrator rights. Write down access credentials. We will use these users to access AWS from Terraform.</p>
</div>
<div class="paragraph">
<p>Also you need to know AWS accounts ids.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s define a variables:</p>
</div>
<div class="listingblock">
<div class="title">variables.tf</div>
<div class="content">
<pre class="highlight"><code>variable "main_account_id" {}
variable "main_access_key" {}
variable "main_secret_key" {}

variable "dev_account_id" {}
variable "dev_access_key" {}
variable "dev_secret_key" {}

variable "aws_region" {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please, refer to Terraform <a href="https://terraform.io/docs/configuration/variables.html">documentation</a> about how to pass values for these variables.</p>
</div>
<div class="paragraph">
<p>Obviously, you need to install Terraform to proceed.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setup_dev_account">Setup dev account</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">dev.tf</div>
<div class="content">
<pre class="highlight"><code># setup aws provider for dev account
provider "aws" {
  alias = "dev"
  region = "${var.aws_region}"
  access_key = "${var.dev_access_key}"
  secret_key = "${var.dev_secret_key}"
}

# in dev account create iam policy, which will grants admin rights
resource "aws_iam_policy" "external_admin_policy" {
    provider = "aws.dev"
    name = "ExternalAdminPolicy"
    path = "/"
    policy = &lt;&lt;EOF
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": "*",
            "Resource": "*"
        }
    ]
}
EOF
}

# in dev account create a role which can be assumed by main account
resource "aws_iam_role" "external_admin_role" {
    provider = "aws.dev"
    name = "ExternalAdminRole"
    assume_role_policy = &lt;&lt;EOF
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "",
      "Effect": "Allow",
      "Principal": {
        "AWS": "arn:aws:iam::${var.main_account_id}:root"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}
EOF
}

# attach policy to role
resource "aws_iam_policy_attachment" "external_admin_policy_attachment_to_external_admin_role" {
    provider = "aws.dev"
    name = "external_admin_policy_attachment"
    roles = ["${aws_iam_role.external_admin_role.name}"]
    policy_arn = "${aws_iam_policy.external_admin_policy.arn}"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, here we register AWS provider for dev environment. We use it explicitly in AWS resources definitions.</p>
</div>
<div class="paragraph">
<p>We create a special role "ExternalAdminRole", which can be "assumed" from our main account. And we attach an administrator policy to that role. This means, that if someone from main account will "assume" "ExternalAdminRole", then he will be granted with administrator rights in dev account.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setup_main_account">Setup main account</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">main.tf</div>
<div class="content">
<pre class="highlight"><code># setup aws provider for main account
provider "aws" {
    alias = "main"
    region = "${var.aws_region}"
    access_key = "${var.main_access_key}"
    secret_key = "${var.main_secret_key}"
}

# create a group, which will be able to assume "ExternalAdminRole" from dev account
resource "aws_iam_group" "dev_admins" {
    provider = "aws.main"
    name = "DevAdminsGroup"
}

# create a group policy, which allows to assume "ExternalAdminRole"
resource "aws_iam_group_policy" "dev_admins_policy" {
    provider = "aws.main"
    name = "DevAdminsPolicy"
    group = "${aws_iam_group.dev_admins.id}"
    policy = &lt;&lt;EOF
{
    "Version": "2012-10-17",
    "Statement": {
        "Effect": "Allow",
        "Action": "sts:AssumeRole",
        "Resource": "${aws_iam_role.external_admin_role.arn}"
    }
}
EOF
}

# create a user "bob"
resource "aws_iam_user" "bob" {
    provider = "aws.main"
    name = "bob"
}

# add "bob" to dev_admins group
resource "aws_iam_group_membership" "dev_admins" {
    provider = "aws.main"
    name = "dev_admins_group_membership"
    users = [
        "${aws_iam_user.bob.name}"
    ]
    group = "${aws_iam_group.dev_admins.name}"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we define a group, members of which can "assume" "ExternalAdminRole". Also we create an IAM user "bob".</p>
</div>
<div class="paragraph">
<p>So now we have a user bob in main account. You can allow bob to login to main account&#8217;s AWS Console. But bob isn&#8217;t allowed to do anything inside main account - he can&#8217;t launch instances or view billing information, etc&#8230; All he can do - he can assume "ExternalAdminRole" and get admin rights for dev account.</p>
</div>
<div class="paragraph">
<p>Bob can login into dev account thru main account using the following URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>https://signin.aws.amazon.com/switchrole?account=[dev_account_id]&amp;roleName=ExternalAdminRole</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_work_with_dev_account">How to work with dev account?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s assume that we have a different project, which wants to use dev account to setup some applications in it. So the project has it&#8217;s own Terraform scripts to create VPC, start instances, etc&#8230;</p>
</div>
<div class="paragraph">
<p>Now, how bob can run Terraform against dev account?</p>
</div>
<div class="paragraph">
<p>As it is stated in AWS documentation, bob should firstly assume the "ExternalAdminRole" by running following AWS CLI command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>aws sts assume-role --role-arn "arn:aws:iam::[dev_account_id]:role/ExternalAdminRole" --role-session-name "bob_dev"</pre>
</div>
</div>
<div class="paragraph">
<p>This command will return temporal access keys for dev account, which will look something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    "Credentials": {
        "SecretAccessKey": "111111111111111111",
        "SessionToken": "222222222222222222222,
        "Expiration": "2014-12-11T23:08:07Z",
        "AccessKeyId": "33333333333333333333"
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Terraform right now doesn&#8217;t support authentication against AWS provider by "assuming" roles. So before running Terraform you need to get these temporal credentials and use them against Terraform.</p>
</div>
<div class="paragraph">
<p>One of the ways to configure AWS provider in Terraform is by using environment variables. So you just skip credential variables in AWS provider configuration, assuming that they will be passed thru environment variables. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>provider "aws" {
    region = "${var.aws_region}"
}</pre>
</div>
</div>
<div class="paragraph">
<p>And use some wrapper script for Terraform commands. For example:</p>
</div>
<div class="listingblock">
<div class="title">assume_dev_admin.sh</div>
<div class="content">
<pre class="highlight"><code class="bash language-bash">#!/bin/bash

CMD="$@"
DEV_ACCOUNT_ID=11111111111

ASSUME_ROLE="arn:aws:iam::${DEV_ACCOUNT_ID}:role/ExternalAdminRole"
ROLE_SESSION_NAME="dev"
TMP_FILE=".temp_credentials"

aws sts assume-role --output json --role-arn ${ASSUME_ROLE} --role-session-name ${ROLE_SESSION_NAME} &gt; ${TMP_FILE}

ACCESS_KEY=$(cat ${TMP_FILE} | jq -r ".Credentials.AccessKeyId")
SECRET_KEY=$(cat ${TMP_FILE} | jq -r ".Credentials.SecretAccessKey")
SESSION_TOKEN=$(cat ${TMP_FILE} | jq -r ".Credentials.SessionToken")
EXPIRATION=$(cat ${TMP_FILE} | jq -r ".Credentials.Expiration")

echo "Retrieved temp access key ${ACCESS_KEY} for role ${ASSUME_ROLE}. Key will expire at ${EXPIRATION}"

AWS_ACCESS_KEY_ID=${ACCESS_KEY} AWS_SECRET_ACCESS_KEY=${SECRET_KEY} AWS_SESSION_TOKEN=${SESSION_TOKEN} ${CMD}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now to apply Terraform bob should run (assuming that he is configured AWS credentials for main account):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>./assume_dev_admin.sh terraform apply</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_final_words">Final words</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is a very basic recipe. But it should give you a good start point if you will decide that multi AWS account setup is right for you. I hope this will help someone and will save some hours.</p>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_aws.html" class="label syn-label-default">aws</a><a href="tag_terraform.html" class="label syn-label-default">terraform</a><a href="tag_devops.html" class="label syn-label-default">devops</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/aws_multi_account_with_terraform" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/aws_multi_account_with_terraform" data-action="share"></div></div></div><div class="syn-blog-item-delim"><span>75 days</span></div><div class="syn-blog-item"><h1><a href="/git-branching.html">GIT branching</a> <small class="syn-blog-item-date">10-08-2015</small></h1><div class="syn-post"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>I often see discussions about how to do branching in GIT properly. Rebase or not to rebase. Merge or not to merge. Use strict git-flow or use git-flow but with some exceptions and changes. And so on.</p>
</div>
<div class="paragraph">
<p>I think in all these debates people forget about one most important thing - we, software engineers, should produce <strong>great</strong> software. Of course, you can blindly adopt git-flow or any other methodology and fanatically follow it&#8217;s rules. But I&#8217;m not sure that this will make your software great.</p>
</div>
<div class="paragraph">
<p>To develop great software you should understand - <strong>WHY</strong> you do certain things and <strong>HOW</strong> they affects you. So, if you are using git-flow you should understand WHY you are using exactly this methodology (because it is very popular - incorrect answer) and HOW it impacts your development process and your product.</p>
</div>
<div class="paragraph">
<p>For example. I worked in a big team. We had a lot of commits per deploy. The system was big, important and it generated money, so it was extremely important to deploy only <strong>CLEAN</strong> and <strong>VERIFIED</strong> code. Of course we have had automatic tests, manual tests, code reviews and leads all the time, in "daemon" mode, reviewed commits in master. Also if something very bad happened in PROD it was vital to find and fix problem quickly. So we must were able to clearly see which commits where added to particular deploy.</p>
</div>
<div class="paragraph">
<p>When we switched from SVN to GIT, we initially did not have any rules HOW to do branching. But very quickly someone did mistake during merge and committed BAD code to master branch and this code hit PROD very badly. Leads spent few hours trying to understand in GIT commits history when things went wrong. Eventually problem was found and fixed, but it was not easy.</p>
</div>
<div class="paragraph">
<p>After this incident we invented code reviews and one rule for branching and commits:</p>
</div>
<div class="paragraph">
<p><strong>"NO MATTER THAT, BUT COMMITS HISTORY IN MASTER BRANCH MUST BE CLEAN AND LINEAR"</strong>.</p>
</div>
<div class="paragraph">
<p>Starting from that point we understood <strong>HOW</strong> we should do branching to produce great software and <strong>WHY</strong>.</p>
</div>
<div class="paragraph">
<p>I really liked the idea with linear commits history in master branch and from then I tried to adapt it in all my next projects and jobs. But, unfortunately, not always this simple idea got positive response from other developers and managers. I think this happened because projects were relatively small - few developers and few dozens commits per deploy. Yes, sometimes it was tricky to understand from commits history when code was changed and who changed it first and merged with bug, but seems like this problem just was not big enough.</p>
</div>
<div class="paragraph">
<p>In conclusion to make my point more clear simple example:</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_branch_per_feature_with_simple_merge">Branch per feature with simple merge</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>mkdir branches &amp;&amp; cd branches &amp;&amp; git init

echo "111" &gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "111"

git checkout -b 222 &amp;&amp; echo "222" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "222"
git checkout master
git checkout -b 333 &amp;&amp; echo "333" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "333"
git checkout master

echo "444" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "444"
echo "555" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "555"

git log --graph --oneline
* 039460b 555
* 4700e87 444
* 89d4df7 111

git checkout 222 &amp;&amp; echo "222-2" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "222-2"
git merge master
// fix conflicts
git add * &amp;&amp; git commit -m "222-2"
git checkout master &amp;&amp; git merge 222

git log --graph --oneline
*   9e8ce3a 222-2
|\
| * 039460b 555
| * 4700e87 444
* | f08bc09 222-2
* | 041d76d 222
|/
* 89d4df7 111

git checkout 333 &amp;&amp; echo "333-2" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "333-2"
echo "333-3" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "333-3"
git merge master
// fix conflicts
git add * &amp;&amp; git commit -m "333-3"
git checkout master &amp;&amp; git merge 333

git log --graph --oneline
*   187de6d 333-3
|\
| *   9e8ce3a 222-2
| |\
| | * 039460b 555
| | * 4700e87 444
| * | f08bc09 222-2
| * | 041d76d 222
| |/
* | be95c49 333-3
* | e62e0d1 333-2
* | 15b92cc 333
|/
* 89d4df7 111</pre>
</div>
</div>
<div class="paragraph">
<p>You see - just few feature branches merged to master branch. This is the simplest possible case, but already commits history is messy.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_branch_per_feature_with_squash_merge">Branch per feature with squash merge</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>mkdir branches &amp;&amp; cd branches &amp;&amp; git init

echo "111" &gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "111"

git checkout -b 222 &amp;&amp; echo "222" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "222"
git checkout master
git checkout -b 333 &amp;&amp; echo "333" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "333"
git checkout master

echo "444" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "444"
echo "555" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "555"

git checkout 222 &amp;&amp; echo "222-2" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "222-2"
git merge master
// fix conflicts
git add * &amp;&amp; git commit -m "222-2"
git checkout master
git merge --squash 222
git add * &amp;&amp; git commit -m "222-2"

git log --graph --oneline
* 77db5e6 222-2
* 45aff46 555
* 0dbe89b 444
* d8f1793 111

git checkout 333 &amp;&amp; echo "333-2" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "333-2"
echo "333-3" &gt;&gt; 111.txt &amp;&amp; git add * &amp;&amp; git commit -m "333-3"
git merge master
// fix conflicts
git add * &amp;&amp; git commit -m "333-3"
git checkout master &amp;&amp; git merge --squash 333
git add * &amp;&amp; git commit -m "333-2"

git log --graph --oneline
* 8bced4a 333-2
* 77db5e6 222-2
* 45aff46 555
* 0dbe89b 444
* d8f1793 111</pre>
</div>
</div>
<div class="paragraph">
<p>The result is the same. But now we have linear and clean history. If you will tag commits before deploy, it will be trivial to review history of changes and track problems.</p>
</div>
<div class="paragraph">
<p>Of course, you will say - with squash we loss some information about commits during feature development. Yes. But if you really need that history, you can always do multiple commits after squash merge.</p>
</div>
<div class="paragraph">
<p>This is only one way how you can achieve linear commits history in master branch. You can try interactive rebase, deleting unnecessary branches after merge, etc&#8230;. Important is that now you understand which result you want to have and WHY. Now HOW question is really simple to answer.</p>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_git.html" class="label syn-label-default">git</a><a href="tag_dev.html" class="label syn-label-default">dev</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/git-branching" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/git-branching" data-action="share"></div></div></div><div class="syn-blog-item-delim"><span>54 days</span></div><div class="syn-blog-item"><h1><a href="/sorry-blog.html">Sorry Mr. Blog!</a> <small class="syn-blog-item-date">17-06-2015</small></h1><div class="syn-post"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Sorry Blog because I update you so irregularly.</p>
</div>
<div class="paragraph">
<p>I think I will not finish my <a href="docker.html">series</a> about Docker and will leave it as is. There are few reasons for that. Firstly, Docker is evolving so fast, that my experience with it already is outdated. Secondly, there are a lot of other things I want to discuss here.</p>
</div>
<div class="paragraph">
<p>So, if you are interested in Docker, please checkout <a href="http://www.nkode.io/2014/08/24/valuable-docker-links.html">Valuable Docker Links</a> post by Nane Kratzke. He updates the post fairly often and this is a good resource with links to best stories about Docker.</p>
</div>
<div class="paragraph">
<p>I will try to keep my future posts short and focused. Maybe this will help me update it more regulary.</p>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_misc.html" class="label syn-label-default">misc</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/sorry-blog" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/sorry-blog" data-action="share"></div></div></div><div class="syn-blog-item-delim"><span>119 days</span></div><div class="syn-blog-item"><h1><a href="/docker-setup-development-environment.html">How to setup development environment for Docker</a> <small class="syn-blog-item-date">17-02-2015</small></h1><div class="syn-post"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This post is a part of <a href="docker.html">series</a> about Docker.</p>
</div>
<div class="paragraph">
<p>In the <a href="docker-why.html">previous post</a> we got the answer on question - why we need Docker.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s make our hands dirty!</p>
</div>
<div class="paragraph">
<p><span class="label label-info">Info</span> For code samples, please, check GitHub repository - <a href="https://github.com/ssinica/blog-docker">https://github.com/ssinica/blog-docker</a></p>
</div>
<div class="paragraph">
<p>Right now Docker works only on Linux. Yes, there are news about Docker on Windows, but this does not mean, that you will be able to run Ubuntu image on Windows server. So - we do not care :)</p>
</div>
<div class="paragraph">
<p>I will try guess - you are using Win or MacOS for development. Right? So to run Docker you will need a virtual machine with Linux. You can use <a href="http://boot2Docker.io">Boot2Docker</a> utility to try Docker, but I prefer to use Vagrant and VirtualBox right away. Because in real life you will need to build Docker images, write scripts, test different configurations, etc., so anyway at some point you will need <a href="http://vagrantup.com">Vagrant</a>.</p>
</div>
<div class="paragraph">
<p>I like to have one GIT repository for everything my project needs - source code, deploy scripts, documentation, etc.. So all stuff related to build, deploy and configuration management I usually put into directory <code>/infrastructure</code>. I saw some people suggest to use something like <code>/src/main/docker</code>, but this does not have any relation to Maven, so&#8230;</p>
</div>
<div class="paragraph">
<p>In <code>infrastructure</code> directory there is <a href="https://github.com/ssinica/blog-docker/blob/master/infrastructure/Vagrantfile">Vagrantfile</a>, with our virtual machine (Ubuntu 14.04) definition. As you can see I use Docker provisioner, which will install latest Docker on first run and pull <code>Ubuntu 14.04</code> image from public registry.</p>
</div>
<div class="paragraph">
<p>Please, <a href="https://twitter.com/ssinica/status/537614720191447040">make sure you have kernel version supported by Docker</a>, because if you try to run Docker on Ubuntu 12.02 with kernel 3.2, then everything will work, but with some <a href="https://twitter.com/ssinica/status/537625902268821505">strange side effects</a>.</p>
</div>
<div class="paragraph">
<p>Also in <code>infrastructure</code> directory I have <code>docker</code> and <code>scripts</code> sub-directories, which will be mapped to <code>/data</code> folder in Vagrant. <code>docker</code> directory contains Dockerfiles used to build Docker images, and <code>scripts</code> directory contains,&#8230;, well, scripts :) (captain obvious mode is on)</p>
</div>
<div class="paragraph">
<p>In real project you will want to use some configuration management system to provision your servers, define configuration and control Docker containers. Like - Puppet, Chef or Ansible. But at this time we will try to keep it simple and will use old good bash scripts.</p>
</div>
<div class="paragraph">
<p>Now, let&#8217;s bootstrap our <code>dev</code> server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd infrastructure
vagrant up</pre>
</div>
</div>
<div class="paragraph">
<p>Connect to <code>srv-docker</code> (if you did not noticed - I set host name for VM to srv-docker and IP to 10.0.0.10 in <a href="https://github.com/ssinica/blog-docker/blob/master/infrastructure/Vagrantfile">Vagrantfile</a>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre># password = vagrant
ssh -p 22 vagrant@10.0.0.10</pre>
</div>
</div>
<div class="paragraph">
<p>At the moment of writing this I use Docker 1.4.1:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@srv-docker:~# docker -v
Docker version 1.4.1, build 5bc2ff8</pre>
</div>
</div>
<div class="paragraph">
<p>And OS:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@srv-docker:~# uname -a
Linux srv-docker 3.13.0-29-generic #53-Ubuntu SMP Wed Jun 4 21:00:20 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux</pre>
</div>
</div>
<div class="paragraph">
<p>Now, when Docker is up and running, we are ready to build our first Docker image.</p>
</div>
<div class="paragraph">
<p>Next: How to build Docker images?</p>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_docker.html" class="label syn-label-default">docker</a><a href="tag_devops.html" class="label syn-label-default">devops</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/docker-setup-development-environment" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/docker-setup-development-environment" data-action="share"></div></div></div><div class="syn-blog-item-delim"><span>8 days</span></div><div class="syn-blog-item"><h1><a href="/docker-why.html">Why Docker?</a> <small class="syn-blog-item-date">09-02-2015</small></h1><div class="syn-post"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This post is a part of <a href="docker.html">series</a> about Docker.</p>
</div>
<div class="paragraph">
<p>Few months ago I joined the team, which just started to develop a new project. The project was pretty standard for Java world: Java 7, Maven, Jenkins, Tomcat, ESB (Enterprise Service Bus), PostgreSQL, etc&#8230;</p>
</div>
<div class="paragraph">
<p>When I started, the team already had the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Few environments: demo and stable;</p>
</li>
<li>
<p>ESB with few external integrations and REST API;</p>
</li>
<li>
<p>WEB application distributed as WAR and deployed to Tomcat server;</p>
</li>
<li>
<p>Manual builds in Jenkins and automated deployment with bash scripts;</p>
</li>
<li>
<p>And, of course, a bunch of "How to" pages in Redmine.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The project had few problems and challenges:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>There were few applications hard to configure. And each developer was forced to configure them individually on his development environment. So, of course, we had a WIKI page - "How to setup development environment", and no one know if the page was up to date;</p>
</li>
<li>
<p>Customer requested us to switch ESB implementation and the migration process seemed scary;</p>
</li>
<li>
<p>We were about to launch public Beta and we have had to build new environment in EC2;</p>
</li>
<li>
<p>In demo and stable environments we used Ubuntu 14.04, but customer asked to use RHEL6.5 in beta.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>And to resolve all these problems we decided to try Docker. And I get the job :)</p>
</div>
<div class="paragraph">
<p>So, how Docker can help to resolve described problems?</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can hide applications setup and configuration complexity with Docker images. One person in a team can prepare image with PostgreSQL and others can simply run this image and do not care about configuration and setup;</p>
</li>
<li>
<p>You do not need to describe in WIKI how to install all these applications and systems - everything is described in Dockerfiles;</p>
</li>
<li>
<p>You get exactly the same environment and setup in dev, test and production with Docker containers;</p>
</li>
<li>
<p>It becomes a lot easier to distribute your app. Everything you need to run your app is packaged in Docker image. So if host has Docker installed, then it can run your app. And you do not care if host has correct Java version or some specific library or program installed;</p>
</li>
<li>
<p>You can develop your application in OS you know and run it everywhere. For example you can create Docker image based on Debian, but run it in RedHat or CentOS, or any other Linux system which supports Docker;</p>
</li>
<li>
<p>It is a lot easier to test and develop distributed systems. For example, you can run a cluster of MongoDB in one host and check how the data is distributed and replicated. Or you can run few web servers and load balancer and check how LB routes your requests.</p>
</li>
<li>
<p>It is a lot easier to try things. You create a Docker image, play with it and throw away, and your host system stays clean and calm.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Also we had following requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It should be really easy for others members in the team to start work with Docker. We did not want to force everybody in team to learn Docker and became Docker experts;</p>
</li>
<li>
<p>Docker integration should not break existing development process;</p>
</li>
<li>
<p>Docker should be integrated into our existing Maven build;</p>
</li>
<li>
<p>We should have private Docker registry to store our images;</p>
</li>
<li>
<p>Our applications should work nicely in Ubuntu and RHEL;</p>
</li>
<li>
<p>ESB migration should be trivial and transparent for others members of the team;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Keeping all that in mind I started to dig and experiment&#8230;</p>
</div>
<div class="paragraph">
<p>Next: <a href="docker-setup-development-environment.html">How to setup development environment for Docker</a></p>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_docker.html" class="label syn-label-default">docker</a><a href="tag_devops.html" class="label syn-label-default">devops</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/docker-why" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/docker-why" data-action="share"></div></div></div><div class="syn-blog-item-delim"><span>1 day</span></div><div class="syn-blog-item"><h1><a href="/docker.html">How to integrate Docker into existing Java project</a> <small class="syn-blog-item-date">08-02-2015</small></h1><div class="syn-post"><div class="sect1">
<h2 id="_content">Content</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="docker-why.html">Why Docker?</a></p>
</li>
<li>
<p><a href="docker-setup-development-environment.html">How to set up development environment for Docker</a></p>
</li>
<li>
<p>How to build Docker images</p>
</li>
<li>
<p>How to setup Docker private registry</p>
</li>
<li>
<p>How to integrate Docker into Maven build</p>
</li>
<li>
<p>How to deploy Docker images</p>
</li>
</ul>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_docker.html" class="label syn-label-default">docker</a><a href="tag_devops.html" class="label syn-label-default">devops</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/docker" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/docker" data-action="share"></div></div></div><div class="syn-blog-item-delim"><span>32 days</span></div><div class="syn-blog-item"><h1><a href="/mount_ebs_volume_ec2.html">Mount EBS volume in EC2 (Ubuntu 14.04)</a> <small class="syn-blog-item-date">07-01-2015</small></h1><div class="syn-post"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>First, find block device you want to mount:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>lsblk</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s assume it is <strong>xvdb</strong>. In this case:</p>
</div>
<div class="paragraph">
<p>Check if block device is formated:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>file -s /dev/xvdb</pre>
</div>
</div>
<div class="paragraph">
<p>If in output you see <strong>data</strong>, then you should format device:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mkfs -t ext4 /dev/xvdb</pre>
</div>
</div>
<div class="paragraph">
<p>Mount block device to <strong>/data</strong> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mount /dev/xvdb /data</pre>
</div>
</div>
<div class="paragraph">
<p>To automatically mount block device on system start:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>echo '/dev/xvdb       /data   ext4    defaults,nofail        0       2' &gt;&gt; /etc/fstab</pre>
</div>
</div>
<div class="paragraph">
<p>Check:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mount -a</pre>
</div>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_aws.html" class="label syn-label-default">aws</a><a href="tag_dev.html" class="label syn-label-default">dev</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/mount_ebs_volume_ec2" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/mount_ebs_volume_ec2" data-action="share"></div></div></div><div class="syn-blog-item-delim"><span>54 days</span></div><div class="syn-blog-item"><h1><a href="/cups_raspberry_pi.html">Setup CUPS on Raspberry PI</a> <small class="syn-blog-item-date">14-11-2014</small></h1><div class="syn-post"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Recently my printer EPSON SX105 died. I decided that it is a sign and after short trip to the nearest shop I bought Samsung M2022 laser printer.</p>
</div>
<div class="paragraph">
<p>Previously I used WIFI router TP-LINK N750 to connect the printer to the home network.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cups_pi/1.jpg" alt="TP-LINK">
</div>
</div>
<div class="paragraph">
<p>This router has a build in "Print Server". So in theory you just need to connect printer to the router via USB cable and install special utility from TP-LINK called "USB Printer Controller" on client - and you get a "network" printer.</p>
</div>
<div class="paragraph">
<p>Well, not really network printer. This utility acts as a bridge or proxy. So first you need to setup the printer as local. You will send print jobs to this "local" printer, but utility will catch them and redirect to router&#8217;s printer.</p>
</div>
<div class="paragraph">
<p>As you can suppose this setup is very unstable, because it is not a real solution but rather some sort of hack. Utility often loses connection to the printer, or just don&#8217;t catch print jobs and require restart.</p>
</div>
<div class="paragraph">
<p>With Samsung this utility just stopped working at all.</p>
</div>
<div class="paragraph">
<p>After a small thinking I decided that this is a decent task for my Raspberry PI. In the Linux world for printing it is common to use <a href="http://en.wikipedia.org/wiki/CUPS">CUPS</a> (Common Unix Printer System). And guess what? CUPS works just fine on <a href="http://www.raspbian.org/">Raspbian</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cups_pi/2.jpg" alt="Samsung M2022 + RaspberryPI">
</div>
</div>
<div class="paragraph">
<p>So lets go straight to setup. This is a common task and you can find a lot of <a href="http://www.bartbania.com/linux-2/cups-raspberry-printer/">tutorials</a> on the Internet.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo apt-get -y install cups</pre>
</div>
</div>
<div class="listingblock">
<div class="title">/etc/cups/cupsd.conf</div>
<div class="content">
<pre class="highlight"><code class="java language-java">LogLevel warn
MaxLogSize 0
Listen 192.168.0.106:631
Listen /var/run/cups/cups.sock
Browsing On
BrowseOrder allow,deny
BrowseAllow all
BrowseLocalProtocols CUPS dnssd
DefaultAuthType Basic
WebInterface Yes

&lt;Location /&gt;
  Order allow,deny
  Allow @local
  Allow 192.168.0.*
&lt;/Location&gt;
&lt;Location /admin&gt;
  Order allow,deny
  Allow @local
&lt;/Location&gt;
&lt;Location /admin/conf&gt;
  AuthType Default
  Require user @SYSTEM
  Order allow,deny
  Allow @local
&lt;/Location&gt;

&lt;Policy default&gt;
  JobPrivateAccess default
  JobPrivateValues default
  SubscriptionPrivateAccess default
  SubscriptionPrivateValues default
  &lt;Limit Create-Job Print-Job Print-URI Validate-Job&gt;
    Order deny,allow
  &lt;/Limit&gt;
  &lt;Limit Send-Document Send-URI Hold-Job Release-Job Restart-Job Purge-Jobs Set-Job-Attributes Create-Job-Subscription Renew-Subscription Cancel-Subscription Get-Notifications Reprocess-Job Cancel-Current-Job Suspend-Current-Job Resume-Job Cancel-My-Jobs Close-Job CUPS-Move-Job CUPS-Get-Document&gt;
    Require user @OWNER @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;
  &lt;Limit CUPS-Add-Modify-Printer CUPS-Delete-Printer CUPS-Add-Modify-Class CUPS-Delete-Class CUPS-Set-Default CUPS-Get-Devices&gt;
    AuthType Default
    Require user @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;
  &lt;Limit Pause-Printer Resume-Printer Enable-Printer Disable-Printer Pause-Printer-After-Current-Job Hold-New-Jobs Release-Held-New-Jobs Deactivate-Printer Activate-Printer Restart-Printer Shutdown-Printer Startup-Printer Promote-Job Schedule-Job-After Cancel-Jobs CUPS-Accept-Jobs CUPS-Reject-Jobs&gt;
    AuthType Default
    Require user @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;
  &lt;Limit Cancel-Job CUPS-Authenticate-Job&gt;
    Require user @OWNER @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;
  &lt;Limit All&gt;
    Order deny,allow
  &lt;/Limit&gt;
&lt;/Policy&gt;
&lt;Policy authenticated&gt;
  JobPrivateAccess default
  JobPrivateValues default
  SubscriptionPrivateAccess default
  SubscriptionPrivateValues default
  &lt;Limit Create-Job Print-Job Print-URI Validate-Job&gt;
    AuthType Default
    Order deny,allow
  &lt;/Limit&gt;
  &lt;Limit Send-Document Send-URI Hold-Job Release-Job Restart-Job Purge-Jobs Set-Job-Attributes Create-Job-Subscription Renew-Subscription Cancel-Subscription Get-Notifications Reprocess-Job Cancel-Current-Job Suspend-Current-Job Resume-Job Cancel-My-Jobs Close-Job CUPS-Move-Job CUPS-Get-Document&gt;
    AuthType Default
    Require user @OWNER @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;
  &lt;Limit CUPS-Add-Modify-Printer CUPS-Delete-Printer CUPS-Add-Modify-Class CUPS-Delete-Class CUPS-Set-Default&gt;
    AuthType Default
    Require user @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;
  &lt;Limit Pause-Printer Resume-Printer Enable-Printer Disable-Printer Pause-Printer-After-Current-Job Hold-New-Jobs Release-Held-New-Jobs Deactivate-Printer Activate-Printer Restart-Printer Shutdown-Printer Startup-Printer Promote-Job Schedule-Job-After Cancel-Jobs CUPS-Accept-Jobs CUPS-Reject-Jobs&gt;
    AuthType Default
    Require user @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;
  &lt;Limit Cancel-Job CUPS-Authenticate-Job&gt;
    AuthType Default
    Require user @OWNER @SYSTEM
    Order deny,allow
  &lt;/Limit&gt;
  &lt;Limit All&gt;
    Order deny,allow
  &lt;/Limit&gt;
&lt;/Policy&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">/etc/cups/client.conf</div>
<div class="content">
<pre class="highlight"><code class="java language-java">ServerName 192.168.0.106</code></pre>
</div>
</div>
<div class="paragraph">
<p>This configuration slightly differs from default. It states:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The printer and admin console will be available by address 192.168.0.106:631.</p>
</li>
<li>
<p>It is possible to use web administration interface from the LAN.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After you add and configure the printer thru admin console, you should be able to add it as network printer on your computer. The link to printer:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://192.168.0.106:631/printers/Samsung_M2020_Series</pre>
</div>
</div>
<div class="paragraph">
<p>I am using this setup for a few weeks now and it works really great.</p>
</div>
<div class="paragraph">
<p><span class="label label-danger">Important</span> I do not why, but button "Share printer on the network" in admin console deletes all the data from cupsd.conf and in result you get empty configuration file and not working CUPS. I did not find the solution for this, so just do not press the button :)</p>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_CUPS.html" class="label syn-label-default">CUPS</a><a href="tag_Raspberry_PI.html" class="label syn-label-default">Raspberry PI</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/cups_raspberry_pi" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/cups_raspberry_pi" data-action="share"></div></div></div><div class="syn-blog-item-delim"><span>36 days</span></div><div class="syn-blog-item"><h1><a href="/bugs_hunting_best_practices.html">Bugs hunting. Best practices.</a> <small class="syn-blog-item-date">09-10-2014</small></h1><div class="syn-post"><div class="sect1">
<h2 id="_so_you_found_a_bug">So you found a bug&#8230;</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sorry guys for maybe not very correct post title. This story will be not actually about bugs hunting, but mostly about that to do after you found the bug.</p>
</div>
<div class="paragraph">
<p>So you found a bug or got 500 Server Error exception. This is your project, but you are not only person working on it. What you should and should not to do?</p>
</div>
<div class="paragraph">
<p><span class="label label-success">Rule 1</span>  <strong>Do not copy/paste exception to team chat immediately!</strong></p>
</div>
<div class="paragraph">
<p>This is really bad tone. Instead try to track the exact place where exception was born. In most cases it will be really easy.</p>
</div>
<div class="paragraph">
<p>Now look around. Do you understand that caused the exception? Can you fix it quickly and you are confident your fix will be correct? Super!</p>
</div>
<div class="paragraph">
<p><span class="label label-success">Rule 2</span>  <strong>Go ahead and just fix it!</strong></p>
</div>
<div class="paragraph">
<p>If you are not confident or you do not understand that happened, check commits history and find the person who last worked on this code. Contact that person and show him the problem. Ask him for help in resolving. In 99% times the person, if this is really his bug, will re-take the bug from you and will fix it himself.</p>
</div>
<div class="paragraph">
<p>You see, you do not need to paste the exception in team chat in most cases.</p>
</div>
<div class="paragraph">
<p>There are only <strong>3 excuses</strong> to do this:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This is a critical production bug and you need immediate attention and help.</p>
</li>
<li>
<p>You can not locate the person responsible for the bug.</p>
</li>
<li>
<p>You have a solution for the bug and you want to show your team this problem as example of that can happen and how to avoid it. So if the bug can help someone in the team better understand the system and prevent similar bugs in future, then you should paste it in team chat with explanation.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>And last but not least. About copying exception for pasting to the chat.</p>
</div>
<div class="paragraph">
<p><span class="label label-success">Rule 3</span>  <strong>Text of exception should clearly highlight the problem and point to the place exception happened.</strong></p>
</div>
<div class="paragraph">
<p>So if there is a SQL syntax exception, do not paste just plain SQL, but also include stack trace of DAO or Service method which calls this SQL.</p>
</div>
<div class="paragraph">
<p>You may want to paste the <strong>full stack trace</strong> just to be sure you have included all that is important. <strong>Do not do this!</strong></p>
</div>
<div class="paragraph">
<p>If you are Java guy, then you know Java stack traces can be very, very long and meaningless. So just do not paste all this proxy/filter chaining methods. Look at the bottom of the stack trace. Usually the helpful part can be found there.</p>
</div>
<div class="paragraph">
<p>So do not disturb your team with super easy to fix NPE. Do not point to someone&#8217;s mistake publicly and loudly - people hate this.</p>
</div>
<div class="paragraph">
<p>And happy hunting!</p>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_dev.html" class="label syn-label-default">dev</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/bugs_hunting_best_practices" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/bugs_hunting_best_practices" data-action="share"></div></div></div><div class="syn-blog-item-delim"><span>157 days</span></div><div class="syn-blog-item"><h1><a href="/meet_a_little_raspberry_pi.html">Meet a little Raspberry PI</a> <small class="syn-blog-item-date">05-05-2014</small></h1><div class="syn-post"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hei!</p>
</div>
<div class="paragraph">
<p>Please welcome the little <a href="http://www.raspberrypi.org/">Raspberry PI</a>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/meet_raspberry_pi/pi1.jpg" alt="Little raspberry pi">
</div>
</div>
<div class="paragraph">
<p>This is a tiny but capable computer, which costs something around 35$.</p>
</div>
<div class="paragraph">
<p>Of course, to make it even more awesome and useful you will need to buy WIFI dongle and at least 4 GB SD card.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/meet_raspberry_pi/pi2.jpg" alt="WIFI dongle for raspberry pi and SD card">
</div>
</div>
<div class="paragraph">
<p>Usually SD card is not a problem and every normal geek has several of them just lying somewhere on the table.</p>
</div>
<div class="paragraph">
<p><span class="label label-success">Tip</span> If you are not a geek, or you think you are not a geek, then just take a SD
card from your girlfriend&#8217;s camera.</p>
</div>
<div class="paragraph">
<p>WIFI dongle can be bought for another 20$.</p>
</div>
<div class="paragraph">
<p>To make an initial setup you probably also will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HDMI cable;</p>
</li>
<li>
<p>TV (or smtng to connect HDMI cable to);</p>
</li>
<li>
<p>USB keyboard;</p>
</li>
<li>
<p>microUSB cable for charging.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/meet_raspberry_pi/pi3.jpg" alt="raspberry pi ready to go">
</div>
<div class="title">Figure 1. Yes I have a Samsung TV and my keyboard requires some cleaning :)</div>
</div>
<div class="paragraph">
<p>OK. Now you have all the parts. What next? What you can do with this PI?</p>
</div>
<div class="paragraph">
<p>Obviously, the first thing which comes to mind - let&#8217;s make a media server,
a box which can be attached to TV and which will play videos from Internet or local video library.</p>
</div>
<div class="paragraph">
<p>But this is a story for another post.</p>
</div>
<div class="paragraph">
<p>Stay tuned!</p>
</div>
</div>
</div></div><div class="syn-blog-item-tags"><a href="tag_Raspberry_PI.html" class="label syn-label-default">Raspberry PI</a></div><div class="syn-share-btns"><a href="https://twitter.com/share" data-url="http://blog.sinica.me/meet_a_little_raspberry_pi" class="twitter-share-button" data-via="ssinica">Tweet</a><div class="g-plus" data-href="http://blog.sinica.me/meet_a_little_raspberry_pi" data-action="share"></div></div></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script><script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script>var Blog = {};Blog.GA_TRACKING_ID = 'UA-29721532-1'; Blog.GA_DOMAIN = 'sinica.me';</script><script src="/assets/main.js"></script></body></html>